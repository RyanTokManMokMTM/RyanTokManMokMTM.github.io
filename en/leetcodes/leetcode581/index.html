<!doctype html><html lang=en dir=content/en>
<head>
<meta charset=utf-8>
<meta http-equiv=x-ua-compatible content="IE=edge,chrome=1">
<meta name=viewport content="width=device-width,initial-scale=1,maximum-scale=1">
<meta http-equiv=content-security-policy content="upgrade-insecure-requests">
<link href=/css/pio.css rel=stylesheet type=text/css>
<title> [Leetcode] Shortest Unsorted Continuous Subarray(Medium) - Jackson.tmm </title><meta name=keywords content="Blogger,Enginner,Programmer,Learning,Note,Tech,Backend,Life">
<meta name=author content="jackson.tmm">
<meta property="og:title" content="[Leetcode] Shortest Unsorted Continuous Subarray(Medium)">
<meta property="og:site_name" content="Jackson.tmm">
<meta property="og:image" content="/images/favicon.png">
<meta name=title content="[Leetcode] Shortest Unsorted Continuous Subarray(Medium) - Jackson.tmm">
<meta name=description content="Welcome to Jackson.tmm's blogger! Here will share anything that interests me, but it will focus on Tech/Note/Learning.">
<link rel="shortcut icon" href=/images/favicon.png>
<link rel=apple-touch-icon href=/images/avatar.jpg>
<link rel=apple-touch-icon-precomposed href=/images/favicon.png>
<link href=https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.6.2/css/font-awesome.min.css rel=stylesheet type=text/css>
<link href=//cdn.bootcdn.net/ajax/libs/imageviewer/0.1.0/viewer.min.css rel=stylesheet>
<link href=/css/main.css rel=stylesheet type=text/css>
<link href=/css/syntax.css rel=stylesheet type=text/css>
<script src=https://cdn.jsdelivr.net/npm/mermaid/dist/mermaid.min.js></script> <script>mermaid.initialize({startOnLoad:!0,securityLevel:"loose"})</script>
</head><body itemscope itemtype=http://schema.org/WebPage lang=zh-hans>
<div class="container one-collumn sidebar-position-left page-home">
<header id=header class=header itemscope itemtype=http://schema.org/WPHeader>
<div class=header-inner> <div class=site-brand-container>
<div class=site-nav-toggle>
<div class=toggle role=button style=opacity:1;top:0>
<span class=toggle-line></span>
<span class=toggle-line></span>
<span class=toggle-line></span>
</div></div><div class=site-meta>
<div class=multi-lang-switch>
<i class="fa fa-fw fa-language" style=margin-right:5px></i>
<a class=lang-link id=zh-tw href=https://ryantokmanmokmtm.github.io/leetcodes/leetcode581/>中文</a>
<span class=lang-line> / </span>
<a class=lang-link id=en href=#>En</a>
</div><div class=custom-logo-site-title>
<a href=/en/ class=brand rel=start>
<span class=logo-line-before><i></i></span>
<span class=site-title>Jackson.tmm</span>
<span class=logo-line-after><i></i></span>
</a>
</div><p class=site-subtitle>Having a happy life every single day</p></div><div class=site-nav-right>
<div class="toggle popup-trigger" style=opacity:1;top:0>
<i class="fa fa-search fa-fw fa-lg"></i>
</div></div></div><nav class=site-nav id=container>
<ul id=menu class=menu>
<li class=menu-item>
<a href=/en rel=section>
<i class="menu-item-icon fa fa-fw fa-home"></i> <br>Home
</a>
</li><li class=menu-item>
<a href=/en/about.html rel=section>
<i class="menu-item-icon fa fa-fw fa-user"></i> <br>About
</a>
</li><li class=menu-item>
<a href=/en/post rel=section>
<i class="menu-item-icon fa fa-fw fa-archive"></i> <br>Posts
</a>
</li><li class=menu-item>
<a href=/en/leetcodes rel=section>
<i class="menu-item-icon fa fa-fw fa-code"></i> <br>Leetcodes
</a>
</li><li class=menu-item>
<a href=/en/project rel=section>
<i class="menu-item-icon fa fa-fw fa-tasks"></i> <br>Projects
</a>
</li><li class=menu-item>
<a href=/en/achievement rel=section>
<i class="menu-item-icon fa fa-fw fa-trophy"></i> <br>achievement
</a>
</li><li class="menu-item menu-item-search">
<a href=javascript:; class=popup-trigger> <i class="menu-item-icon fa fa-search fa-fw"></i> <br> Search</a>
</li></ul><div class=site-search>
<div class="popup search-popup local-search-popup">
<div class="local-search-header clearfix">
<span class=search-icon><i class="fa fa-search"></i> </span>
<span class=popup-btn-close><i class="fa fa-times-circle"></i></span>
<div class=local-search-input-wrapper>
<input autocomplete=off placeholder="Enter key words..." spellcheck=false type=text id=local-search-input autocapitalize=none autocorrect=off>
</div></div><div id=local-search-result></div></div></div></nav></div></header><main id=main class=main>
<div class=main-inner>
<div class=content-wrap>
<div id=content class=content>
<section id=posts class=posts-expand>
<article class="post post-type-normal" itemscope itemtype=http://schema.org/Article>
<header class=post-header>
<h1 class=post-title itemprop="name headline">
<a class=post-title-link href=https://ryantokmanmokmtm.github.io/en/leetcodes/leetcode581/ itemprop=url>
[Leetcode] Shortest Unsorted Continuous Subarray(Medium)
</a>
</h1><div class=post-meta>
<span class=post-time>
<i class="fa fa-calendar-o fa-fw"></i>
<span class=post-meta-item-text>Published at:</span>
<time itemprop=dateCreated datetime=2016-03-22T13:04:35+08:00 content="2022-05-03">
2022-05-03
</time>
</span>
<span class=post-category>
&nbsp; | &nbsp;
<i class="fa fa-folder-o fa-fw"></i>
<span class=post-meta-item-text>Categories:</span>
<span itemprop=about itemscope itemtype=https://schema.org/Thing>
<a href=/en/categories/leetcode itemprop=url rel=index style=text-decoration:underline>
<span itemprop=name>leetcode</span>
</a>
&nbsp;
</span>
</span>
<span>
|
<i class="fa fa-file-word-o fa-fw"></i>
<span class=post-meta-item-text>Words:</span>
<span class=leancloud-world-count>948 words</span>
</span>
<span>
|
<i class="fa fa-eye fa-fw"></i>
<span class=post-meta-item-text>Reading:</span>
<span class=leancloud-view-count>2 minutes</span>
</span>
<span id=/en/leetcodes/leetcode581/ class=leancloud_visitors data-flag-title="[Leetcode] Shortest Unsorted Continuous Subarray(Medium)">
|
<i class="fa fa-binoculars fa-fw"></i>
<span class=post-meta-item-text>Visited:</span>
<span class=leancloud-visitors-count></span>
</span>
</div></header><div class=post-body itemprop=articleBody>
<h2 id=leetcode-581---shortest-unsorted-continuous-subarray>LeetCode 581 - Shortest Unsorted Continuous Subarray</h2><p>Given an integer array nums, you need to find one continuous subarray that if you only sort this subarray in ascending order, then the whole array will be sorted in ascending order.</p><p>Return <code>the shortest such subarray and output its length</code>.</p><p>example:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-fallback data-lang=fallback><span style=display:flex><span>Input: nums = [2,6,4,8,10,9,15]
</span></span><span style=display:flex><span>Output: 5
</span></span><span style=display:flex><span>Explanation: You need to sort [6, 4, 8, 10, 9] in ascending order to make the whole array sorted in ascending order.
</span></span></code></pre></div><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-fallback data-lang=fallback><span style=display:flex><span>Input: nums = [1,2,3,4]
</span></span><span style=display:flex><span>Output: 0
</span></span></code></pre></div><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-fallback data-lang=fallback><span style=display:flex><span>Input: nums = [1]
</span></span><span style=display:flex><span>Output: 0
</span></span></code></pre></div><h2 id=how-can-we-solve-this-problem>How can we solve this problem?</h2><p>這題比較難懂一點點，這裡先做一下題目的解釋。這題主要先問的是在輸入的<code>Array</code>裡面找到一個最小需要排序的<code>Sub-array</code>。<br>
從例子<code>[2,6,4,8,10,9,15]</code>中，我們可以很明顯的看到<code>[6,4,8,10,9]</code>並不是ascending order(順序),而這個<code>sub-array</code>要進行排序的話，所有elements都需要進行排序，所以，他的length是<code>5</code>。<br>
再舉另外一個例子<code>[1,3,2,3,3]</code>，這個<code>Array</code>我們可以看到<code>[3,2,3,3]</code>並不是順序的，但是在這個<code>sub-array</code>裡面,只有<code>[3,2]</code>需要排序,所以，他的結果會是<code>2</code>。</p><p>那我們應該要怎麼解呢? <br>
一個最簡單的解法是定義一個額外的<code>array</code>，而這個<code>array</code>的element跟原來的一樣，但是已經被排序過的。因此，只要比較原本的<code>array</code>和排序過的<code>array</code>有幾個element的位置不一樣就知道結果了。但<code>Time Complexity</code>是是<code>O(n log n) - 排序的時間</code>，而<code>Space Complexity</code>則是<code>O(n)</code></p><h4 id=solution>Solution:</h4><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c++ data-lang=c++><span style=display:flex><span>        vector<span style=color:#666>&lt;</span><span style=color:#0b0;font-weight:700>int</span><span style=color:#666>&gt;</span> temp <span style=color:#666>=</span> nums;
</span></span><span style=display:flex><span>        sort(temp.begin(),temp.end()); <span style=color:#080;font-style:italic>//n log n
</span></span></span><span style=display:flex><span><span style=color:#080;font-style:italic></span>        <span style=color:#0b0;font-weight:700>int</span> start <span style=color:#666>=</span> nums.size() <span style=color:#666>-</span> <span style=color:#666>1</span>;
</span></span><span style=display:flex><span>        <span style=color:#0b0;font-weight:700>int</span> end <span style=color:#666>=</span> <span style=color:#666>0</span>;
</span></span><span style=display:flex><span>        <span style=color:#080;font-style:italic>//finding the starting point which is not as same as the sorted array
</span></span></span><span style=display:flex><span><span style=color:#080;font-style:italic></span>        <span style=color:#080;font-style:italic>//finding the ending print which is not as same as the sorted array
</span></span></span><span style=display:flex><span><span style=color:#080;font-style:italic></span>        <span style=color:#a2f;font-weight:700>for</span>(<span style=color:#0b0;font-weight:700>int</span> i <span style=color:#666>=</span><span style=color:#666>0</span>;i<span style=color:#666>&lt;</span>nums.size();i<span style=color:#666>++</span>){
</span></span><span style=display:flex><span>            <span style=color:#a2f;font-weight:700>if</span>(nums[i] <span style=color:#666>!=</span> temp[i]){
</span></span><span style=display:flex><span>                start <span style=color:#666>=</span> min(i,start); <span style=color:#080;font-style:italic>//
</span></span></span><span style=display:flex><span><span style=color:#080;font-style:italic></span>                end <span style=color:#666>=</span> max(end,i);
</span></span><span style=display:flex><span>            }
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>        <span style=color:#a2f;font-weight:700>return</span> end <span style=color:#666>-</span> start <span style=color:#666>&gt;=</span> <span style=color:#666>0</span> <span style=color:#666>?</span> end <span style=color:#666>-</span> start <span style=color:#666>+</span> <span style=color:#666>1</span> <span style=color:#666>:</span> <span style=color:#666>0</span>;
</span></span></code></pre></div><p>另外一種解法是通過<code>Two-pointer approach</code>來解。我們先要找到左手邊有問題的地方的最小值(<code>1,4,7,5,3,6 最小值為3</code>)以及右手邊有問題的地方的最大值(<code>1,4,7,5,3,6 最大值為7</code>)。然後,要找出左手邊第一個被影響的<code>index</code>(<code>nums[index] > 最小值</code>)。同理也要找出右手邊第一個被影響的最<code>index</code>(<code>nums[index] &lt; 最大值</code>)。這樣我們就能找出有問題的區間<code>[left,right]</code>，在根據<code>left</code>,<code>right</code>得出最終結果。
<img src=/images/leetcodesHelper/581-helper.png alt=581-helper></p><h4 id=solution-1>Solution:</h4><p><strong>解法二:</strong></p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c++ data-lang=c++><span style=display:flex><span>        <span style=color:#0b0;font-weight:700>int</span> start <span style=color:#666>=</span> INT_MAX;
</span></span><span style=display:flex><span>        <span style=color:#0b0;font-weight:700>int</span> end <span style=color:#666>=</span> INT_MIN;
</span></span><span style=display:flex><span>        
</span></span><span style=display:flex><span>        <span style=color:#a2f;font-weight:700>for</span>(<span style=color:#0b0;font-weight:700>int</span> i <span style=color:#666>=</span> <span style=color:#666>1</span>;i<span style=color:#666>&lt;</span>nums.size();i<span style=color:#666>++</span>){
</span></span><span style=display:flex><span>             <span style=color:#a2f;font-weight:700>if</span>(nums[i] <span style=color:#666>&lt;</span> nums[i<span style=color:#666>-</span><span style=color:#666>1</span>]) start <span style=color:#666>=</span> min(nums[i],start); 
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>        
</span></span><span style=display:flex><span>        <span style=color:#a2f;font-weight:700>for</span>(<span style=color:#0b0;font-weight:700>int</span> i <span style=color:#666>=</span> nums.size() <span style=color:#666>-</span> <span style=color:#666>2</span>;i<span style=color:#666>&gt;=</span><span style=color:#666>0</span>;i<span style=color:#666>--</span>){
</span></span><span style=display:flex><span>             <span style=color:#a2f;font-weight:700>if</span>(nums[i] <span style=color:#666>&gt;</span> nums[i <span style=color:#666>+</span> <span style=color:#666>1</span>]) end <span style=color:#666>=</span> max(nums[i],end); 
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>        
</span></span><span style=display:flex><span>        <span style=color:#0b0;font-weight:700>int</span> left,right;
</span></span><span style=display:flex><span>        <span style=color:#080;font-style:italic>//scanning the value from the left to the right that is less than maximum value
</span></span></span><span style=display:flex><span><span style=color:#080;font-style:italic></span>        <span style=color:#a2f;font-weight:700>for</span>(left <span style=color:#666>=</span> <span style=color:#666>0</span>;left<span style=color:#666>&lt;</span>nums.size();left<span style=color:#666>++</span>){
</span></span><span style=display:flex><span>            <span style=color:#080;font-style:italic>//finding the descending point
</span></span></span><span style=display:flex><span><span style=color:#080;font-style:italic></span>            <span style=color:#a2f;font-weight:700>if</span>(start <span style=color:#666>&lt;</span> nums[left]) <span style=color:#a2f;font-weight:700>break</span>;
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>        <span style=color:#080;font-style:italic>//scanning the value from the right to the left that is less than minimum value
</span></span></span><span style=display:flex><span><span style=color:#080;font-style:italic></span>        <span style=color:#a2f;font-weight:700>for</span>(right <span style=color:#666>=</span> nums.size() <span style=color:#666>-</span> <span style=color:#666>1</span>;right <span style=color:#666>&gt;=</span> <span style=color:#666>0</span>;right<span style=color:#666>--</span>){
</span></span><span style=display:flex><span>             <span style=color:#a2f;font-weight:700>if</span>(end <span style=color:#666>&gt;</span> nums[right]) <span style=color:#a2f;font-weight:700>break</span>;
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>        
</span></span><span style=display:flex><span>        
</span></span><span style=display:flex><span>        <span style=color:#080;font-style:italic>//we need to find out the right-most point
</span></span></span><span style=display:flex><span><span style=color:#080;font-style:italic></span>        <span style=color:#a2f;font-weight:700>return</span> right <span style=color:#666>-</span> left <span style=color:#666>&gt;=</span> <span style=color:#666>0</span> <span style=color:#666>?</span> right <span style=color:#666>-</span> left <span style=color:#666>+</span> <span style=color:#666>1</span> <span style=color:#666>:</span> <span style=color:#666>0</span>;
</span></span></code></pre></div></div><footer class=post-footer>
<div class=post-tags>
<a href=/en/tags/array rel=tag title=array>#array#</a>
</div><div class=post-nav>
<div class=article-copyright>
<div class=article-copyright-info>
<p>
<span>Declaration：</span>[Leetcode] Shortest Unsorted Continuous Subarray(Medium)
</p><p>
<span>Link：</span>https://ryantokmanmokmtm.github.io/en/leetcodes/leetcode581/
</p><p>
<span>Author：</span>jackson.tmm
</p><p>
<span>Declaration： </span>This blog post article is under the <a href=https://creativecommons.org/licenses/by-nc-sa/3.0/ target=_blank style=text-decoration:underline>CC BY-NC-SA 3.0</a> license,Please indicate the source!
</p></div></div><div class=clear></div></div><div class=post-nav>
<div class="post-nav-next post-nav-item">
<a href=https://ryantokmanmokmtm.github.io/en/leetcodes/leetcode1679/ rel=next title="[Leetcode] Max Number of K-Sum Pairs(Medium)">
<i class="fa fa-chevron-left"></i> [Leetcode] Max Number of K-Sum Pairs(Medium)
</a>
</div><div class="post-nav-prev post-nav-item">
<a href=https://ryantokmanmokmtm.github.io/en/leetcodes/leetcode905/ rel=prev title="[Leetcode] Sort Array By Parity(Easy)">
[Leetcode] Sort Array By Parity(Easy)
<i class="fa fa-chevron-right"></i>
</a>
</div></div><div id=ucomments></div></footer></article></section></div></div><div class=sidebar-toggle>
<div class=sidebar-toggle-line-wrap>
<span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
<span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
<span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
</div></div><aside id=sidebar class=sidebar>
<div class=sidebar-inner>
<section class="site-overview sidebar-panel sidebar-panel-active">
<div class="site-author motion-element" itemprop=author itemscope itemtype=http://schema.org/Person>
<img class=site-author-image itemprop=image src=/images/avatar.jpg alt=jackson.tmm>
<p class=site-author-name itemprop=name>jackson.tmm</p><p class="site-description motion-element" itemprop=description>
Finding the meaning of life & Enjoy the life
</p></div><nav class="site-state motion-element">
<div class="site-state-item site-state-posts">
<a href=/en/post/>
<span class=site-state-item-count>13</span>
<span class=site-state-item-name>Blogs</span>
</a>
</div><div class="site-state-item site-state-categories">
<a href=/en/categories/>
<span class=site-state-item-count>16</span>
<span class=site-state-item-name>Categories</span>
</a>
</div><div class="site-state-item site-state-tags">
<a href=/en/tags/>
<span class=site-state-item-count>45 </span>
<span class=site-state-item-name>Tags</span>
</a>
</div></nav><div class="links-of-author motion-element">
<span class=links-of-author-item>
<a href=https://github.com/RyanTokManMokMTM target=_blank title=GitHub>
<i class="fa fa-fw fa-github"></i>
GitHub
</a>
</span>
<span class=links-of-author-item>
<a href=https://www.facebook.com/karot.ka.7505/ target=_blank title=Facebook>
<i class="fa fa-fw fa-facebook"></i>
Facebook
</a>
</span>
<span class=links-of-author-item>
<a href=https://www.instagram.com/tm_m.0418/ target=_blank title=Instagram>
<i class="fa fa-fw fa-instagram"></i>
Instagram
</a>
</span>
<span class=links-of-author-item>
<a href=https://www.linkedin.com/in/jackson-moktokman/ target=_blank title=Linkedin>
<i class="fa fa-fw fa-linkedin"></i>
Linkedin
</a>
</span>
</div><div class="tagcloud-of-blogroll motion-element tagcloud-of-blogroll-inline">
<div class=tagcloud-of-blogroll-title>
<i class="fa fa-fw fa-tags"></i>
TagCloud
</div><ul class=tagcloud-of-blogroll-list>
<li class=tagcloud-of-blogroll-item>
<a href=/en/tags/array>Array</a>
</li><li class=tagcloud-of-blogroll-item>
<a href=/en/tags/side-project>Side project</a>
</li><li class=tagcloud-of-blogroll-item>
<a href=/en/tags/string>String</a>
</li><li class=tagcloud-of-blogroll-item>
<a href=/en/tags/recursion>Recursion</a>
</li><li class=tagcloud-of-blogroll-item>
<a href=/en/tags/binary-tree>Binary tree</a>
</li><li class=tagcloud-of-blogroll-item>
<a href=/en/tags/recursive>Recursive</a>
</li><li class=tagcloud-of-blogroll-item>
<a href=/en/tags/stack>Stack</a>
</li><li class=tagcloud-of-blogroll-item>
<a href=/en/tags/japen>Japen</a>
</li><li class=tagcloud-of-blogroll-item>
<a href=/en/tags/jp>Jp</a>
</li><li class=tagcloud-of-blogroll-item>
<a href=/en/tags/priority-queue>Priority queue</a>
</li><li class=tagcloud-of-blogroll-item>
<a href=/en/tags/app-dev>App dev</a>
</li><li class=tagcloud-of-blogroll-item>
<a href=/en/tags/dfs>Dfs</a>
</li><li class=tagcloud-of-blogroll-item>
<a href=/en/tags/dp>Dp</a>
</li><li class=tagcloud-of-blogroll-item>
<a href=/en/tags/dynamic-programming>Dynamic programming</a>
</li><li class=tagcloud-of-blogroll-item>
<a href=/en/tags/hash-map>Hash map</a>
</li><li class=tagcloud-of-blogroll-item>
<a href=/en/tags/heap>Heap</a>
</li><li class=tagcloud-of-blogroll-item>
<a href=/en/tags/ios-app>Ios app</a>
</li><li class=tagcloud-of-blogroll-item>
<a href=/en/tags/map>Map</a>
</li><li class=tagcloud-of-blogroll-item>
<a href=/en/tags/two-pointer>Two pointer</a>
</li><li class=tagcloud-of-blogroll-item>
<a href=/en/tags/2023>2023rd</a>
</li></ul></div></section></div></aside></div></main><footer id=footer class=footer>
<div class=footer-inner>
<div class=copyright>
<span class=copyright-year>
&copy; 2022 - 2024
</span>
<span class=with-love><i class="fa fa-heart"></i></span>
<span class=copyright-author>Jackson.tmm</span>
</div><div class=powered-info>
<span class=powered-by>
Powered by - <a class=powered-link href=//gohugo.io target=_blank title=hugo>Hugo v0.93.2</a>
</span>
<span class=separator-line>/</span>
<span class=theme-info>
Theme by - <a class=powered-link href=//github.com/elkan1788/hugo-theme-next target=_blank> NexT
</a>
</span>
</div><div class=vistor-info>
</div><script type=text/javascript src=https://cdn.jsdelivr.net/npm/live2d-widget@3.1.4/lib/L2Dwidget.min.js></script>
<script type=text/javascript src=https://cdn.jsdelivr.net/npm/live2d-widget@3.1.4/lib/L2Dwidget.0.min.js></script>
<div class="pio-container right">
<div class=pio-action></div><canvas id=pio width=300 height=500></canvas>
</div><div class=elfsight-app-b04b61d3-ff26-4d9d-a289-163c1b59bd32 data-elfsight-app-lazy></div></div></footer><div class=back-to-top>
<i class="fa fa-arrow-up"></i>
<span id=scrollpercent><span>0</span>%</span>
</div></div><script type=text/javascript src=https://code.jquery.com/jquery-2.2.4.min.js></script>
<script type=text/javascript src=/js/search.js></script>
<script type=text/javascript src=/js/affix.js></script>
<script type=text/javascript src=/js/scrollspy.js></script>
<script type=text/javascript>function detectIE(){var e=window.navigator.userAgent,t=e.indexOf("MSIE "),n=e.indexOf("Trident/"),s=e.indexOf("Edge/");return t>0||n>0||s>0?-1:1}function getCntViewHeight(){var t=$("#content").height(),e=$(window).height(),n=t>e?t-e:$(document).height()-e;return n}function getScrollbarWidth(){var e=$("<div />").addClass("scrollbar-measure").prependTo("body"),t=e[0],n=t.offsetWidth-t.clientWidth;return e.remove(),n}function registerBackTop(){var t=50,e=$(".back-to-top");$(window).on("scroll",function(){e.toggleClass("back-to-top-on",window.pageYOffset>t);var s=$(window).scrollTop(),o=getCntViewHeight(),i=s/o,n=Math.round(i*100),a=n>100?100:n;$("#scrollpercent>span").html(a)}),e.on("click",function(){$("html,body").animate({scrollTop:0,screenLeft:0},800)})}function initScrollSpy(){var e=".post-toc",s=$(e),t=".active-current";s.on("activate.bs.scrollspy",function(){var t=$(e+" .active").last();n(),t.addClass("active-current")}).on("clear.bs.scrollspy",n),$("body").scrollspy({target:e});function n(){$(e+" "+t).removeClass(t.substring(1))}}function initAffix(){var e=$(".header-inner").height(),t=parseInt($(".main").css("padding-bottom"),10),n=e+10;$(".sidebar-inner").affix({offset:{top:n,bottom:t}}),$(document).on("affixed.bs.affix",function(){updateTOCHeight(document.body.clientHeight-100)})}function initTOCDimension(){$(window).on("resize",function(){e&&clearTimeout(e),e=setTimeout(function(){var e=document.body.clientHeight-100;updateTOCHeight(e)},0)}),updateTOCHeight(document.body.clientHeight-100);var e,t=getScrollbarWidth();$(".post-toc").css("width","calc(100% + "+t+"px)")}function updateTOCHeight(e){e=e||"auto",$(".post-toc").css("max-height",e)}$(function(){var t=$(".header-inner").height()+10,n,s,e,o;$("#sidebar").css({'margin-top':t}).show(),n=parseInt($("#sidebar").css("margin-top")),s=parseInt($(".sidebar-inner").css("height")),e=n+s,o=$(".content-wrap").height(),o<e&&$(".content-wrap").css("min-height",e),$(".site-nav-toggle").on("click",function(){var e=$(".site-nav"),o=$(".toggle"),t="site-nav-on",i="toggle-close",n=e.hasClass(t),a=n?"slideUp":"slideDown",s=n?"removeClass":"addClass";e.stop()[a]("normal",function(){e[s](t),o[s](i)})}),registerBackTop(),initScrollSpy(),initAffix(),initTOCDimension(),$(".sidebar-nav-toc").click(function(){$(this).addClass("sidebar-nav-active"),$(this).next().removeClass("sidebar-nav-active"),$("."+$(this).next().attr("data-target")).toggle(500),$("."+$(this).attr("data-target")).toggle(500)}),$(".sidebar-nav-overview").click(function(){$(this).addClass("sidebar-nav-active"),$(this).prev().removeClass("sidebar-nav-active"),$("."+$(this).prev().attr("data-target")).toggle(500),$("."+$(this).attr("data-target")).toggle(500)})})</script>
<script src=//cdn.bootcdn.net/ajax/libs/imageviewer/0.1.0/viewer.min.js></script>
<script type=text/javascript>$(function(){$(".post-body").viewer()})</script>
<script src=//cdn.jsdelivr.net/npm/leancloud-storage@4.6.1/dist/av-min.js></script>
<script type=text/javascript>function showTime(s){var t=new AV.Query(s),e=[],n=$(".leancloud_visitors");n.each(function(){e.push($(this).attr("id").trim())}),t.containedIn("url",e),t.find().then(s=>{var o=".leancloud-visitors-count",t,r,i,l,a,c;if(s.length==0){n.find(o).text(0);return}for(t=0;t<s.length;t++)r=s[t],i=r.get("url"),l=r.get("time"),a=document.getElementById(i),$(a).find(o).text(l);for(t=0;t<e.length;t++)i=e[t],a=document.getElementById(i),c=$(a).find(o),c.text()==''&&c.text(0)},e=>{console.log("Query vistors failed: "+e)})}function addCount(s){var t=$(".leancloud_visitors"),e=t.attr("id").trim(),o=t.attr("data-flag-title").trim(),n=new AV.Query("Counter");n.equalTo("url",e),n.find().then(i=>{if(i.length>0){var a=i[0],n,t;a.increment("time",1),a.save(null,{query:new AV.Query("Counter").equalTo("url",e),fetchWhenSave:!0}).then(t=>{var n=$(document.getElementById(e));n.find(".leancloud-visitors-count").text(t.get("time"))},e=>{console.log("Update vistor failed: "+e)})}else n=new AV.ACL,n.setPublicReadAccess(!0),n.setPublicWriteAccess(!0),t=new s,t.set("title",o),t.set("url",e),t.set("time",1),t.setACL(n),t.save().then(s=>{var n=$(document.getElementById(e));n.find(".leancloud-visitors-count").text(t.get("time"))},e=>{console.log("Save new vistor failed: "+e)})})}$(function(){AV.init({appId:"",appKey:"",serverURL:""});const e=AV.Object.extend("Counter");$(".leancloud_visitors").length==1?addCount(e):$(".post-title-link").length>1&&showTime(e)})</script>
<script type=text/javascript>(function(){var e=document.createElement("script");e.type="text/javascript",e.async=!0,e.setAttribute("issue-term","pathname"),e.setAttribute("theme","github-light"),e.setAttribute("repo","RyanTokManMokMTM/RyanTokManMokMTM.github.io"),e.crossorigin="anonymous",e.src="https://utteranc.es/client.js",document.getElementById("ucomments").appendChild(e)})()</script>
<script>(function(){var e=document.createElement("script"),t,n=window.location.protocol.split(":")[0];n==="https"?e.src="https://zz.bdstatic.com/linksubmit/push.js":e.src="http://push.zhanzhang.baidu.com/push.js",t=document.getElementsByTagName("script")[0],t.parentNode.insertBefore(e,t)})()</script>
<script src=/js/l2d.js></script>
<script src=/js/pio.js></script>
<script src=https://static.elfsight.com/platform/platform.js data-use-service-core defer></script>
<script>var pio=new Paul_Pio({mode:"draggable",hidden:!0,content:{welcome:["歡迎來到Jackson的小宇宙！","今天天氣不錯，一起来玩吧！","博主有空的話，會寫一寫博客記錄一下!"],custom:[{selector:".home-social a:last-child",text:"在這里可以了解博主的日常噢~"},{selector:".post-item a",type:"read"},{selector:".post-content a, .page-content a",type:"link"}]},model:["/model/umaru/model.json","/model/tororo/tororo.model.json","/model/HN/nepmaid/model.json","/model/HN/nepgearswim/model.json","/model/HN/neptune_santa/model.json","/model/other/rem/model.json","/model/other/mei/model.json","/model/other/liang/2.json","/model/HN/noir_santa/model.json","/model/HN/noireswim/model.json","/model/other/blanc_normal/index.json","/model/other/88type_1809/normal/model.json","/model/other/88type_1809/destroy/model.json","/model/other/dsr50_1801/normal/model.json","/model/other/dsr50_1801/destroy/model.json","/model/other/g36c_1202/normal/model.json","/model/other/g36c_1202/destroy/model.json","/model/other/kp31_310/normal/model.json","/model/other/kp31_310/destroy/model.json","/model/other/kp31_1103/normal/model.json","/model/other/kp31_1103/destroy/model.json"],touch:["不可以這樣欺負我啦><"]})</script>
</body></html>